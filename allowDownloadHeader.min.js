/*! ECB - v1.6.24 - European Central Bank */

function downloadHandler(a,b){return"download"in document.createElement("a")?function(c){removeWait();var d=$('<a style="display:none">').attr("href","data:"+a+","+encodeURIComponent(c)).attr("download",b).appendTo("body");d[0].click(),d.remove()}:function(c){removeWait();var d=$('<iframe style="display:none">').appendTo("body"),e=d[0].contentDocument||d[0].contentWindow.document;e.open(a,"replace"),e.write(c),e.close(),e.execCommand("SaveAs",!0,b)}}function downloadHandlerBlob(a,b){return window.navigator.msSaveOrOpenBlob?function(a){removeWait(),window.navigator.msSaveOrOpenBlob(a,b)}:function(a){removeWait(),$("#downloadLink").each(function(){URL.revokeObjectURL($(this).attr("href"))}),$("#downloadLink").remove();var c=URL.createObjectURL(a);$('<a id="downloadLink" style="display:none">').attr("href",c).attr("download",b).appendTo("body")[0].click()}}function downloadError(a,b,c){removeWait();var d=c||b||"unknown AJAX error";if("application/json"===a.getResponseHeader("Content-type"))try{d=JSON.parse(a.responseText).error}catch(a){}else"error"==d&&(d="error fetching URL, see javascript console");alert(d)}function addWait(){$("#downloads").prepend('<p class="info" id="download_loading">Please wait while your download is being prepared. This can take a few minutes</p>')}function removeWait(){$("#download_loading").remove()}var ECB=window.ECB||{};ECB.addLinkHandler=function(){$(document.body).on("click",".headerDownloads a[data-type]",function(a){a.preventDefault();var b=$(this).attr("data-type"),c=$(this).attr("download");if(addWait(),window.navigator.msSaveOrOpenBlob||"download"in document.createElement("a")&&null!==URL.createObjectURL){var d=new XMLHttpRequest;d.open("GET",$(this).attr("href"),!0),d.setRequestHeader("Accept",b+", */*; q=0.01"),d.responseType="blob",d.onerror=function(a){downloadError(this,this.statusText||"error")},d.onload=function(a){200==this.status?downloadHandlerBlob(b,c)(this.response):this.onerror(a)},d.send()}else $.ajax({url:$(this).attr("href"),dataType:"text",accepts:{text:b},error:downloadError,success:downloadHandler(b,c)})})};